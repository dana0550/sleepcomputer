---
doc_type: feature_spec
id: F-005.01
name: SVG-to-Asset Regeneration
status: active
owner: dshakiba
parent: F-005
children: []
aliases:
  - Icon Build Script
version: 1.0.0
last_reviewed: 2026-02-18
tags:
  - design
  - tooling
risk_level: low
dependencies:
  - F-005
---

# [F-005.01] SVG-to-Asset Regeneration

## Summary

Generate Xcode-ready icon image sets from source SVG files using a deterministic shell script.

## Goals

- Keep icon generation fast and reproducible.
- Keep source/target filename mapping explicit.
- Enforce template rendering metadata.

## Non-Goals

- Auto-tracing or rasterization of arbitrary image formats.

## Requirements

- R1: Script must read fixed SVG source filenames from `Design/icons/`.
- R2: Script must generate two image sets (`AwakeBarStatusOff/Closed`) under `AwakeBar/Assets.xcassets`.
- R3: Script must emit `Contents.json` with `template-rendering-intent` equal to `template`.
- R4: Script must fail fast on errors (`set -euo pipefail`).

<!-- AUTOGEN:REQUIREMENTS_CHECKLIST -->
- [x] R1
- [x] R2
- [x] R3
- [x] R4

## Acceptance Criteria

- AC1: Running script outputs expected `Icons generated into ...` message and updates image sets.
- AC2: Regenerated image sets keep deterministic file names and metadata.

<!-- AUTOGEN:ACCEPTANCE_CHECKLIST -->
- [ ] AC1
- [x] AC2

## Traceability

<!-- AUTOGEN:TRACEABILITY -->
| Item | Type | Evidence |
|---|---|---|
| R1 | code | Scripts/build-icons.sh |
| R2 | code | Scripts/build-icons.sh |
| R3 | code | Scripts/build-icons.sh |
| R4 | code | Scripts/build-icons.sh |
| AC1 | manual | `./Scripts/build-icons.sh` execution |
| AC2 | code | AwakeBar/Assets.xcassets/AwakeBarStatusOff.imageset/Contents.json |

## Children

<!-- AUTOGEN:CHILDREN -->
- None

## References

<!-- AUTOGEN:REFERENCES -->
- [F-005](./F-005-iconography-asset-pipeline.md)

## API Contract

<!-- AUTOGEN:API_CONTRACT_SUMMARY -->
- `Scripts/build-icons.sh`

## Impact

<!-- AUTOGEN:IMPACT_MAP -->
- Keeps generated app icon assets synchronized with design sources.

## Security

<!-- AUTOGEN:SECURITY_CHECKLIST -->
- [x] No privileged operations
- [x] Local file-only mutations in repo paths

## Budget

<!-- AUTOGEN:BUDGET_CHECKLIST -->
- [x] Single-pass copy + JSON write for two assets

## Table of Contents

<!-- AUTOGEN:TOC -->
- Summary
- Goals
- Non-Goals
- Requirements
- Acceptance Criteria

<!-- DO NOT EDIT BELOW (AUTOGENERATED) -->

## Changelog

- 2026-02-18: Initial child spec created.
- 2026-02-18: Updated regeneration contract to two-state OFF/Full Awake assets only.
