---
doc_type: feature_spec
id: F-005
name: Iconography and Asset Pipeline
status: active
owner: dshakiba
parent: null
children:
  - F-005.01
  - F-005.02
aliases: []
version: 1.1.0
last_reviewed: 2026-02-18
tags:
  - design
  - assets
risk_level: low
dependencies:
  - F-002
---

# [F-005] Iconography and Asset Pipeline

## Summary

Define source SVG icon assets and deterministic conversion into Xcode asset entries used by menu status and controls.

## Goals

- Keep editable vector sources in-repo.
- Keep generated app assets deterministic and template-rendered.
- Keep design handoff rules explicit for small-size legibility.

## Non-Goals

- Runtime icon downloads.
- Multi-theme icon packs in v1.

## Requirements

- R1: Source SVG files for off/open/closed states must exist in `Design/icons/` with stable names.
- R2: Build script must regenerate `.imageset` SVG + `Contents.json` entries for all three states.
- R3: Generated `Contents.json` must set `template-rendering-intent` to `template`.
- R4: Menu UI must resolve state icons through `MenuIconCatalog` mappings.

<!-- AUTOGEN:REQUIREMENTS_CHECKLIST -->
- [x] R1
- [x] R2
- [x] R3
- [x] R4

## Acceptance Criteria

- AC1: Running `./Scripts/build-icons.sh` updates icon assets deterministically.
- AC2: OFF/OPEN/CLOSED states map to distinct menu icon assets.
- AC3: Menu icon rendering adapts tint correctly via template assets.

<!-- AUTOGEN:ACCEPTANCE_CHECKLIST -->
- [ ] AC1
- [x] AC2
- [x] AC3

## Traceability

<!-- AUTOGEN:TRACEABILITY -->
| Item | Type | Evidence |
|---|---|---|
| R1 | code | Design/icons/awakebar-off.svg |
| R1 | code | Design/icons/awakebar-open.svg |
| R1 | code | Design/icons/awakebar-closed.svg |
| R2 | code | Scripts/build-icons.sh |
| R3 | code | Scripts/build-icons.sh |
| R4 | code | AwakeBar/UI/MenuIconCatalog.swift |
| AC1 | manual | `./Scripts/build-icons.sh` execution |
| AC2 | test | AwakeBarTests/MenuIconCatalogTests.swift |
| AC3 | code | AwakeBar/App/AwakeBarApp.swift |

## Children

<!-- AUTOGEN:CHILDREN -->
- [F-005.01](./F-005.01-svg-to-asset-regeneration.md)
- [F-005.02](./F-005.02-icon-visual-spec-handoff.md)

## References

<!-- AUTOGEN:REFERENCES -->
- [F-002](./F-002-menu-bar-experience.md)
- [F-005.01](./F-005.01-svg-to-asset-regeneration.md)
- [F-005.02](./F-005.02-icon-visual-spec-handoff.md)

## API Contract

<!-- AUTOGEN:API_CONTRACT_SUMMARY -->
- `MenuIconCatalog.statusBarAssetName(for:)`
- `MenuIconCatalog.dropdownPair(for:)`

## Impact

<!-- AUTOGEN:IMPACT_MAP -->
- Controls icon readability and state affordance in menu bar and row actions.
- Couples design sources to generated Xcode assets.

## Security

<!-- AUTOGEN:SECURITY_CHECKLIST -->
- [x] No privileged operations in icon pipeline
- [x] No network asset fetches

## Budget

<!-- AUTOGEN:BUDGET_CHECKLIST -->
- [x] Script runtime bounded to three icon conversions
- [x] Asset lookup is constant-time by name

## Table of Contents

<!-- AUTOGEN:TOC -->
- Summary
- Goals
- Non-Goals
- Requirements
- Acceptance Criteria

<!-- DO NOT EDIT BELOW (AUTOGENERATED) -->

## Changelog

- 2026-02-17: Initial spec created.
- 2026-02-18: Added deterministic generation and visual handoff child specs.
